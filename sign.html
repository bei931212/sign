<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>签到页</title>
	<link rel="stylesheet" href="css/reset.css">
	<script src="js/jquery-1.11.3.js"></script>
	<link rel="stylesheet" type="text/css" href="css/swiper.min.css">
	<link rel="stylesheet" href="css/style.css">
	<script src='js/swiper.jquery.min.js'></script>
	<script src="js/flexible.js"></script>
</head>
<body>
<div class="body">
	<div class="swiper-container">
	    <div class="swiper-wrapper">
	        <div class="swiper-slide">
	        	<a href="#">
	        		<img src="images/banner_top.png" alt="">
        		</a>
	        </div>
	        <div class="swiper-slide">
		        <a href="#">
		        	<img src="images/banner_top.png" alt="">
		        </a>
	        </div>
	        <div class="swiper-slide">
				<a href="#">
		        	<img src="images/banner_top.png" alt="">
		        </a>
	        </div>
	    </div>
	    <div class="swiper-pagination" id="sign01"></div>
	</div>
	<div class="sign">
		<img src="images/sign_in_icon@2x.png" alt="">
		<span>请前往页面中部签到</span>
	</div>
	<div class="list">
		<h2>
			<img src="images/header_image@2x.png" alt="">
			<span>热销商品</span>
		</h2>
		<div class="rexiao">
			<ul class="list01">
				<li>
					<a href="#">
						<div class="img">
							<img src="http://img2.imgtn.bdimg.com/it/u=819201812,3553302270&fm=214&gp=0.jpg" alt="">
						</div>						
						<h3>三只松鼠三只松鼠三只松鼠三只松鼠</h3>
						<p><span>￥118.0</span><i>￥226.0</i></p>
					</a>					
				</li>
				<li>
					<a href="#">
						<div class="img">
							<img src="images/list01.png" alt="">
						</div>						
						<h3>三只松鼠三只松鼠三只松鼠三只松鼠</h3>
						<p><span>￥118.0</span><i>￥226.0</i></p>
					</a>					
				</li>
				<li>
					<a href="#">
						<div class="img">
							<img src="images/list01.png" alt="">
						</div>						
						<h3>三只松鼠三只松鼠三只松鼠三只松鼠</h3>
						<p><span>￥118.0</span><i>￥226.0</i></p>
					</a>					
				</li>
				<li>
					<a href="#">
						<div class="img">
							<img src="http://pic47.nipic.com/20140904/18981839_095218870000_2.jpg" alt="">
						</div>						
						<h3>三只松鼠三只松鼠三只松鼠三只松鼠</h3>
						<p><span>￥118.0</span><i>￥226.0</i></p>
					</a>					
				</li>
				<li>
					<a href="#">
						<div class="img">
							<img src="images/list01.png" alt="">
						</div>						
						<h3>三只松鼠三只松鼠三只松鼠三只松鼠</h3>
						<p><span>￥118.0</span><i>￥226.0</i></p>
					</a>					
				</li>
			</ul>
		</div>		
		<h2>
			<img src="images/header_image@2x.png" alt="">
			<span>热销商品</span>
		</h2>
		<ul class="list02">
			<li>
				<a href="#">
					<div class="images">
						<img src="http://pic28.nipic.com/20130424/11588775_115415688157_2.jpg" alt="">
					</div>					
					<h3>冰而不凉 可折叠提花冰丝凉席空调席1.5/1.8米</h3>
					<p><span>￥118.0</span><i>￥226.0</i></p>
				</a>
			</li>
			<li>
				<a href="#">
					<div class="images">
						<img src="images/list02.png" alt="">
					</div>					
					<h3>冰而不凉 可折叠提花冰丝凉席空调席1.5/1.8米</h3>
					<p><span>￥118.0</span><i>￥226.0</i></p>
				</a>
			</li>
			<li>
				<a href="#">
					<div class="images">
						<img src="http://img0.imgtn.bdimg.com/it/u=2183314203,562241301&fm=214&gp=0.jpg" alt="">
					</div>					
					<h3>冰而不凉 可折叠提花冰丝凉席空调席1.5/1.8米</h3>
					<p><span>￥118.0</span><i>￥226.0</i></p>
				</a>
			</li>
			<li>
				<a href="#">
					<div class="images">
						<img src="http://img03.tooopen.com/images/20131111/sy_46708898917.jpg" alt="">
					</div>					
					<h3>冰而不凉 可折叠提花冰丝凉席空调席1.5/1.8米</h3>
					<p><span>￥118.0</span><i>￥226.0</i></p>
				</a>
			</li>
		</ul>
	</div>
	<!-- 签到 -->
	<div class="sign_top">
		<span>当前积分：</span>
		<img src="images/sign_jf.png" alt="">
		<em>3560</em>
		<div class="checkBtn">点击签到</div>		
	</div>
	<div class="checkin"></div>
	<div class="guize">
		<h2>签到规则</h2>
		<p>1、每日签到可获得10积分，连续签到三天以上每日得15积分。  </p>
		<p>2、积分可以在积分商城兑换商品（暂未开通）。</p>
		<p>
		3、若某天漏签，则当期累积的签到积分清零（已兑换的部分积分不受影响）。
		</p>
		<p>4、每个账号每天仅能签到一次，对于任何通过不正当手段参与活动者，顺联动力将有权取消其签到与兑换的资格。</p>
		<p>5、如有任何问题，请咨询顺联动力客服。</p>
	</div>
	<div class="swiper-container1">
	    <div class="swiper-wrapper">
	        <div class="swiper-slide">
	        	<a href="#">
	        		<img src="images/banner_center.png" alt="">
        		</a>
	        </div>
	        <div class="swiper-slide">
		        <a href="#">
		        	<img src="images/banner_center.png" alt="">
		        </a>
	        </div>
	        <div class="swiper-slide">
				<a href="#">
		        	<img src="images/banner_center.png" alt="">
		        </a>
	        </div>
	    </div>
	    <div class="swiper-pagination swiper-p2" id="sign02"></div>
	</div>
	<div class="list">
		<h2>
			<img src="images/header_image@2x.png" alt="">
			<span>今日抄底</span>
		</h2>
		<ul class="list02">
			<li>
				<a href="#">
					<div class="images">
						<img src="http://pic28.nipic.com/20130424/11588775_115415688157_2.jpg" alt="">
					</div>					
					<h3>冰而不凉 可折叠提花冰丝凉席空调席1.5/1.8米</h3>
					<p><span>￥118.0</span><i>￥226.0</i></p>
				</a>
			</li>
			<li>
				<a href="#">
					<div class="images">
						<img src="images/list02.png" alt="">
					</div>					
					<h3>冰而不凉 可折叠提花冰丝凉席空调席1.5/1.8米</h3>
					<p><span>￥118.0</span><i>￥226.0</i></p>
				</a>
			</li>
			<li>
				<a href="#">
					<div class="images">
						<img src="http://img0.imgtn.bdimg.com/it/u=2183314203,562241301&fm=214&gp=0.jpg" alt="">
					</div>					
					<h3>冰而不凉 可折叠提花冰丝凉席空调席1.5/1.8米</h3>
					<p><span>￥118.0</span><i>￥226.0</i></p>
				</a>
			</li>
			<li>
				<a href="#">
					<div class="images">
						<img src="http://img03.tooopen.com/images/20131111/sy_46708898917.jpg" alt="">
					</div>					
					<h3>冰而不凉 可折叠提花冰丝凉席空调席1.5/1.8米</h3>
					<p><span>￥118.0</span><i>￥226.0</i></p>
				</a>
			</li>
			</ul>
		</div>
</div>
	
<script language="javascript">        
  var mySwiper = new Swiper ('.swiper-container', {
    autoplay:2000,
    pagination: '.swiper-pagination',
  })
  var mySwiper1 = new Swiper ('.swiper-container1', {
    autoplay:2000,
    pagination: '.swiper-p2',
  })	  		
	$(function(){
		$('.list01 li').each(function(){
	  		var width=$(this).width()+4;
		  	var margin=parseInt($(this).first().css('margin-right'));
		  	var num = $(this).parent().find("li").length;
		  	var len=num*width+num*margin;
		  	$('.list01').css('width',len)
	    })

		var Checkin = function(ele, options) {
			this.ele = ele;
			this.opt = options;
			this.obj = $.extend({},this.opt);
		}
		Checkin.prototype.init = function() {
			var _self = this.ele,
				html = '',
				myDate = new Date(),
				year = myDate.getFullYear(),
				month = myDate.getMonth(),
				day = myDate.getDate(),
				weekText = ['日', '一', '二', '三', '四', '五', '六'];
			_self.append("<div class='title'>" + year + '年' + (month + 1) + '月' + day + '日' + "</div>");
			$("<ul class='week'></ul><ul class='calendarList clearfix'></ul>").appendTo(_self);
			for (var i = 0; i < 7; i++) {
				_self.find(".week").append("<li>" + weekText[i] + "</li>")
			};
			for (var i = 0; i <35; i++) {
				html += "<li></li>"
			};
			_self.find(".calendarList").append(html);
			var $li = _self.find(".calendarList").find("li");
			$('.calendarList').css({
				borderLeft: '1px solid #d0d0d0'
			})
			$li.css({
				borderRight: '1px solid #d0d0d0',
				borderBottom: '1px solid #d0d0d0',
				boxSizing: 'border-box',
				color: "#000"
			});
			var monthFirst = new Date(year, month, 1).getDay();
			var d = new Date(year, (month + 1), 0)
			var totalDay = d.getDate(); //获取当前月的天数
			for (var i = 0; i < totalDay; i++) {
				$li.eq(i + monthFirst).html(i + 1);
				$li.eq(i + monthFirst).addClass('data' + (i + 1))
				if (isArray(this.obj.dateArray)) {
					for (var j = 0; j < this.obj.dateArray.length; j++) {
						if (i == this.obj.dateArray[j]) {
							// 假设已经签到的
							$li.eq(i + monthFirst).addClass('checked');
						}
					}
				}
			}
			_self.find($(".data" + day)).addClass('able-qiandao');
		}
		var isChecked = false;
		Checkin.prototype.events = function() {
			var _self = this.ele;
			var $li = _self.find(".calendarList").find("li");
			$li.on('click', function(event) {
				event.preventDefault();
				/* Act on the event */
				if ($(this).hasClass('able-qiandao')) {
					$(this).addClass('checked');
					isChecked = true;
				}
				$('.checkBtn').text("已签到");
			});
			$('.checkBtn').click(function(event) {
				_self.find('.able-qiandao').addClass('checked');
				isChecked = true;
				$('.checkBtn').text("已签到");
			});
		}
		$.fn.Checkin = function(options) {
			var checkin = new Checkin(this, options);
			var obj = [checkin.init(), checkin.events()]
			return obj
		}
		var isArray = function(arg) {
			return Object.prototype.toString.call(arg) === '[object Array]';
		};
		$(".checkin").Checkin();
	});	
</script>
</body>

</html>